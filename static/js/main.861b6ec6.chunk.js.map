{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pages.jsx","components/MovieList.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","Pages","updatePageNumber","totalPages","currentPage","handlePage","aria-label","MovieList","movieWillWatch","App","componentDidMount","getMovies","fetch","then","response","json","data","movies","results","total_pages","updateMovies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.861b6ec6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass MovieItem extends React.Component {\r\n\r\n  state = {\r\n    willWatch: false\r\n  }\r\n\r\n  render() {\r\n    const { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props\r\n\r\n    function getAddress() {\r\n      if (movie.backdrop_path || movie.poster_path) {\r\n        return `https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`\r\n      } else { return 'img/camera.jpg' }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card \">\r\n        <div className=\"card-img-top card__img-wrap\">\r\n          <img\r\n            className=\"card__img\"\r\n            src={getAddress()}\r\n            alt=\"No Poster\"\r\n          />\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div>\r\n            <p className=\"mb-3\">Rating: {movie.vote_average}</p>\r\n            <div className=\"buttons d-flex justify-content-between\">\r\n              {this.state.willWatch ?\r\n                (<button type='button'\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: false\r\n                    });\r\n                    removeMovieFromWillWatch(movie)\r\n                  }}>\r\n                  <img className=\"btn-img\" src=\"img/heartbreak.svg\" alt=\"Remove from Favourite\"></img>\r\n                </button>) : (<button type='button'\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(movie)\r\n                  }}>\r\n                  <img className=\"btn-img\" src=\"img/heart.svg\" alt=\"Add to Favourite\"></img>\r\n\r\n                </button>)}\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={removeMovie.bind(null, movie)}>\r\n                <img className=\"btn-img\" src=\"img/bin.svg\" alt=\"Delete\"></img>\r\n              </button>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default MovieItem","import React from 'react'\r\n\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props;\r\n  const handleClick = (value) => {\r\n    return () => {\r\n      updateSortBy(value);\r\n\r\n    }\r\n  }\r\n\r\n  const getClassLink = (value) => {\r\n    return `nav-link ${\r\n      sort_by === value ? \"active\" : \"\"\r\n      }`\r\n  }\r\n  return (\r\n    <ul className=\"tabs nav nav-tabs\">\r\n      <li className=\"nav-item\">\r\n        <div className={getClassLink(\"popularity.desc\")}\r\n          onClick={handleClick(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div className={getClassLink(\"revenue.desc\")}\r\n          onClick={handleClick(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div className={getClassLink(\"vote_average.desc\")}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n          Vote Average desc\r\n        </div>\r\n      </li>\r\n    </ul >\r\n  )\r\n}\r\n\r\nexport default MovieTabs","import React from 'react'\r\n\r\nconst Pages = props => {\r\n\r\n  const { updatePageNumber, totalPages, currentPage } = props;\r\n\r\n  const handlePage = (value) => {\r\n    return () => {\r\n      updatePageNumber(value)\r\n    }\r\n  }\r\n\r\n  return (<nav className=\"\" aria-label=\"Page navigation example\">\r\n    <ul className=\"pagination\">\r\n      <li className=\"page-item\">\r\n        <button className=\"page-link\" onClick={handlePage(-1)}>Previous</button>\r\n      </li>\r\n      <li className=\"page-item\">\r\n        <div className=\"px-3 py-2 text-secondary\">{currentPage}/{totalPages}</div>\r\n      </li>\r\n      <li className=\"page-item\">\r\n        < button className=\"page-link\" onClick={handlePage(1)}>Next</button>\r\n      </li>\r\n    </ul>\r\n  </nav>)\r\n}\r\n\r\nexport default Pages","import React from 'react'\r\n\r\nclass MovieList extends React.Component {\r\n  render() {\r\n\r\n    const { movieWillWatch } = this.props\r\n\r\n\r\n    return (\r\n      <li className=\"list-group-item\">\r\n        <div>{movieWillWatch.title}</div>\r\n        <div className=\"mt-3\">Rating: {movieWillWatch.vote_average}</div>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MovieList\r\n\r\n","import React from 'react'\r\n// import { moviesData } from '../moviesData'\r\nimport MovieItem from './MovieItem'\r\nimport { API_URL, API_KEY_3 } from '../utils/api'\r\nimport MovieTabs from './MovieTabs'\r\nimport Pages from './Pages'\r\nimport MovieList from './MovieList'\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\",\r\n      totalPages: null,\r\n      currentPage: 1\r\n    }\r\n    // console.log(\"constructor state\", this.state)\r\n  }\r\n\r\n  updatePageNumber = value => {\r\n    if (this.state.currentPage === 1 && value === -1) {\r\n      this.setState({\r\n        currentPage: 1\r\n      })\r\n    } else {\r\n      this.setState({\r\n        currentPage: this.state.currentPage + value\r\n      })\r\n    }\r\n    this.componentDidMount()\r\n    // this.componentDidUpdate()\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log('didMount')\r\n    this.getMovies()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // console.log('didUpdate')\r\n    // console.log(\"prev\", prevProps, prevState)\r\n    // console.log(\"this.prev\", this.props, this.state)\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      this.setState({\r\n        currentPage: 1\r\n      })\r\n      this.getMovies()\r\n    }\r\n\r\n    if (prevState.currentPage !== this.state.currentPage) {\r\n      this.getMovies()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getMovies = () => {\r\n    fetch(\r\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${\r\n      this.state.sort_by}&page=${this.state.currentPage}`)\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then((data) => {\r\n        // console.log(data)\r\n        this.setState({\r\n          movies: data.results,\r\n          totalPages: data.total_pages\r\n        })\r\n      })\r\n  }\r\n\r\n\r\n  removeMovie = movie => {\r\n    const updateMovies = this.state.movies.filter(function (item) {\r\n      return item.id !== movie.id;\r\n    })\r\n\r\n    this.setState({\r\n      movies: updateMovies,\r\n    })\r\n    this.removeMovieFromWillWatch(movie)\r\n  }\r\n\r\n  addMovieToWillWatch = movie => {\r\n    // console.log(movie)\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie]\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    })\r\n\r\n  }\r\n\r\n  removeMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (item) {\r\n      return item.id !== movie.id;\r\n    })\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch,\r\n    })\r\n  }\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value\r\n    })\r\n  };\r\n\r\n\r\n  render() {\r\n    // console.log('render')\r\n    // console.log(\"render state\", this.state)\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-12 col-md-7 col-lg-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy} />\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <Pages updatePageNumber={this.updatePageNumber}\r\n                  totalPages={this.state.totalPages}\r\n                  currentPage={this.state.currentPage} />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-12 col-sm-6 col-md-6 col-lg-4 mb-4\">\r\n                    <MovieItem\r\n                      key={movie.id}\r\n                      movie={movie}\r\n                      removeMovie={this.removeMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch} />\r\n                  </div>)\r\n              })}\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-4 col-lg-6\">\r\n                <Pages updatePageNumber={this.updatePageNumber}\r\n                  totalPages={this.state.totalPages}\r\n                  currentPage={this.state.currentPage} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 col-md-5 col-lg-3\">\r\n            <div className=\"card-header font-weight-bold\">\r\n              Favourite: {this.state.moviesWillWatch.length} movies\r\n            </div>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movieWillWatch => {\r\n                return (\r\n                  <MovieList movieWillWatch={movieWillWatch} />\r\n                )\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","export const API_URL = 'https://api.themoviedb.org/3';\r\nexport const API_KEY_3 = 'af1839ce155ad8642849b3775138bdce';\r\nexport const API_KEY_4 = 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZjE4MzljZTE1NWFkODY0Mjg0OWIzNzc1MTM4YmRjZSIsInN1YiI6IjVlOTg1MTBmMDU4MjI0MDAxYWFlOGE4MyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.XpZk12-E5KgA8k0PoX1HHMMLCQRG7iDbJ6FRzgVXhls';","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport './bootstrap.min.css'\r\nimport './style.css'\r\n\r\n\r\nReactDOM.render( < App / > , document.getElementById('root'))"],"sourceRoot":""}